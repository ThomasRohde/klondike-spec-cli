@import "tailwindcss";

/* Enable class-based dark mode for Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

/* Accessibility */

/* Screen reader only text */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Focus styles for keyboard navigation */
.focus-visible:focus {
    @apply outline-none ring-2 ring-indigo-500 ring-offset-2;
}

/* Ensure focus rings are visible on all interactive elements */
button:focus-visible,
a:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[role="button"]:focus-visible,
[tabindex]:focus-visible {
    @apply outline-none ring-2 ring-indigo-500 ring-offset-2 dark:ring-offset-gray-900;
}

/* Microinteractions */

/* Button press effect */
.btn-press {
    @apply transition-all duration-150 active:scale-95;
}

/* Button hover lift */
.btn-lift {
    @apply transition-all duration-200 hover:-translate-y-0.5 hover:shadow-md;
}

/* Card hover effect */
.card-hover {
    @apply transition-all duration-200 hover:shadow-lg hover:-translate-y-1;
}

/* Status change animation */
@keyframes status-pulse {

    0%,
    100% {
        opacity: 1;
    }

    50% {
        opacity: 0.7;
    }
}

.status-changing {
    animation: status-pulse 0.5s ease-in-out 2;
}

/* Reduce motion for accessibility */
@media (prefers-reduced-motion: reduce) {

    .btn-press,
    .btn-lift,
    .card-hover,
    .status-changing {
        animation: none !important;
        transition: none !important;
        transform: none !important;
    }
}

/* Mobile touch gestures */

/* Bottom sheet slide up animation */
@keyframes slide-up {
    from {
        transform: translateY(100%);
    }

    to {
        transform: translateY(0);
    }
}

.animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
}

/* Touch manipulation for better touch responsiveness */
.touch-manipulation {
    touch-action: manipulation;
}

/* Ensure minimum touch targets on mobile */
@media (pointer: coarse) {

    button,
    [role="button"],
    a,
    input,
    select,
    textarea {
        min-height: 44px;
        min-width: 44px;
    }

    /* Exception for inline elements */
    button.inline,
    a.inline {
        min-height: auto;
        min-width: auto;
    }
}

/* Swipe action indicators */
.swipe-action-left,
.swipe-action-right {
    position: absolute;
    top: 0;
    bottom: 0;
    display: flex;
    align-items: center;
    padding: 0 1rem;
}

.swipe-action-left {
    left: 0;
    background: linear-gradient(to right, theme('colors.green.500'), transparent);
}

.swipe-action-right {
    right: 0;
    background: linear-gradient(to left, theme('colors.red.500'), transparent);
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
    .safe-area-bottom {
        padding-bottom: max(1rem, env(safe-area-inset-bottom));
    }

    .safe-area-top {
        padding-top: max(1rem, env(safe-area-inset-top));
    }
}

/* Command Palette Styles */

/* Command group headings */
[cmdk-group-heading] {
    @apply px-3 py-1.5 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider;
}